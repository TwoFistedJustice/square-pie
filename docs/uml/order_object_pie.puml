@startuml
'https://plantuml.com/class-diagram


namespace fulfillment {
.Order_Fulfillment .. .build_shipment
.Order_Fulfillment .. .build_pickup
}

namespace order {
.Order_Object o.. fardelCollections

object fardelCollections{
  + fulfillments
  + discounts
  + pricing_options
  + service_charges
  + taxes
  + line_items
}

}


class Order_Object{
this._fardel
this.configuration
==
Simple Getters
==
Simple Setters
==
Complex Setters (Computed Properties)
..

+ pricing_options (obj)
..
- verify ARG and fardel structure
- push ARG onto array
--
+ service_charges
+ discounts
+ taxes
+ fulfillments
+ line_items
..
- verify fardel structure
- push ARG onto array


==
Private METHODS
- #money(amt, currency)
..
-convert amt to number
- verify ARG structures
- RETURN compliant object
==
BUILDER METHODS

+ build_state()
..
- call state setter with FIXED values

+ build_service_charge_amount(amount, currency)
+ build_service_charge_applied(amount, currency)
- build compliant object
- call setter
..

..
+ build_discount()
..
This may merit its own class ...

==
STANDARD METHODS
+ make()
==
STUB METHODS
+ build_line_item()
..
+ pricing()
..
}

class Order_Fulfillment {
this._fardel
this.configuration
==
Simple Getters
==
Simple Setters
==
Complex Setters (none))
==
Private METHODS
- #proposed_state()
- #reserved_state()
- #prepared_state()
- #completed_state()
- #canceled_state()
- #failed_state()
- #time_date()
- #note()
- #schedule_type()
==
BUILDER METHODS
+ build_shipment()
+ build_pickup()
==
STANDARD METHODS
+ make() - TODO
==
STUB METHODS
cancel_order()

}


object build_shipment {
+ state_propose
+ state_reserve
+ state_prepare
+ state_complete
+ state_cancel
+ state_fail
+ cancel_reason | string |
+ auto_complete_duration |time |
+ expires_at |time |
+ pickup_at |time |
+ pickup_window_duration |time |
+ prep_time_duration |time |
+ note |string |
+ asap
+ scheduled
+ clear_curbside

}

object build_pickup {
+ state_propose
+ state_reserve
+ state_prepare
+ state_complete
+ state_cancel
+ state_fail
+ expected_shipped_at | time |
+ cancel_reason | string |
+ failure_reason | string |
+ tracking_number | string |
+ shipping_note | string |
+ tracking_url | string |
+ shipping_type | string |
+ carrier | string |
}


@enduml